import { TrackedSection } from './TrackedSection';
import { StickyContainer } from './StickyContainer';
import { ActiveSectionInfo } from './ActiveSectionInfo';

import { ScrollytellingProvider } from '@react-scrollytelling/core';

Detect whether an element is in view with the Intersection Observer API.

## Usage

```tsx
export const IntersectionSection = () => {
  const sectionRef = useRef<HTMLDivElement>(null);
  const { isIntersecting } = useIntersectionObserver(sectionRef);

  return (
    <>
      <section ref={sectionRef}>
        <h1>Intersection Observer</h1>
        <p>isIntersecting: {`${isIntersecting}`}</p>
      </section>
    </>
  );
};
```

## Parameters

The `useIntersectionObserver` hook accepts the following parameters:

```jsx
export function useIntersectionObserver(
  sectionRef: React.RefObject<Element>,
  options: IntersectionObserverOptions,
  shouldObserve: boolean,
  onObserve?: (isIntersecting: IntersectionObserverEntry) => void
) // ...
```

- `sectionRef`: A reference to the element to observe.
- `options`: Allow customizing the observer. You can pass an `IntersectionObserverOptions` [object to configure the observer](https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver#instance_properties).
- `shouldObserve`: A boolean that determines whether to observe the element. You can disable the observer by setting this value to `false`. Default value: `true`.
- `onObserve`: A callback function that is called when the element is intersecting. The callback receives an `IntersectionObserverEntry` object as an argument.

<ScrollytellingProvider>
  <StickyContainer
    overlay={
      <>
        <TrackedSection sectionID="RED" className="border-rose-400 dark:border-rose-700" />
        <TrackedSection
          sectionID="ORANGE"
          className="-mt-[3px] border-orange-400 dark:border-orange-700"
        />
        <TrackedSection
          sectionID="YELLOW"
          className="-mt-[3px] border-yellow-400 dark:border-yellow-700"
        />
      </>
    }
  >
    <div className="absolute left-0 right-0 top-0 h-screen">
      <div className="flex h-screen items-center justify-center">
        <ActiveSectionInfo />
      </div>
    </div>
  </StickyContainer>
</ScrollytellingProvider>

<div className="h-screen" />
