import { TrackedSection } from './TrackedSection';
import { StickyContainer } from './StickyContainer';
import { ActiveSectionInfo } from './ActiveSectionInfo';

import { ScrollytellingProvider } from '@react-scrollytelling/core';

Detect whether an element is in view with the Intersection Observer API.

## Usage

```tsx
export const IntersectionSection = () => {
  const sectionRef = useRef<HTMLDivElement>(null);
  const { isIntersecting } = useIntersectionObserver(sectionRef);

  return (
    <>
      <section ref={sectionRef}>
        <h1>Intersection Observer</h1>
        <p>isIntersecting: {`${isIntersecting}`}</p>
      </section>
    </>
  );
};
```

## Parameters

The `useIntersectionObserver` hook accepts the following parameters:

```jsx
export function useIntersectionObserver(
  sectionRef: React.RefObject<Element>,
  options: IntersectionObserverOptions,
  shouldObserve: boolean,
  onObserve?: (isIntersecting: IntersectionObserverEntry) => void
) // ...
```

- `sectionRef`: A reference to the element to observe.
- `options`: Allow customizing the observer. You can pass an `IntersectionObserverOptions` [object to configure the observer](https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver#instance_properties).
- `shouldObserve`: A boolean that determines whether to observe the element. You can disable the observer by setting this value to `false`. Default value: `true`.
- `onObserve`: A callback function that is called when the element is intersecting. The callback receives an `IntersectionObserverEntry` object as an argument.

<div className="mx-2 my-12">
  <ScrollytellingProvider>
    <StickyContainer
      overlay={
        <>
          <TrackedSection
            sectionID="RED"
            className="border-rose-400 dark:border-rose-700 bg-rose-200 dark:bg-rose-800 rounded-t-lg pt-[50vh]"
          />
          <TrackedSection
            sectionID="ORANGE"
            className="-mt-[3px] border-orange-400 dark:border-orange-700 bg-orange-200 dark:bg-orange-800"
          />
          <TrackedSection
            sectionID="YELLOW"
            className="-mt-[3px] border-yellow-400 dark:border-yellow-700 bg-yellow-200 dark:bg-yellow-800"
          />
          <TrackedSection
            sectionID="GREEN"
            className="-mt-[3px] border-green-400 dark:border-green-700 bg-green-200 dark:bg-green-800"
          />
          <TrackedSection
            sectionID="BLUE"
            className="-mt-[3px] border-blue-400 dark:border-blue-700 bg-blue-200 dark:bg-blue-800"
          />
          <TrackedSection
            sectionID="PURPLE"
            className="-mt-[3px] border-purple-400 dark:border-purple-700 bg-purple-200 dark:bg-purple-800 rounded-b-lg pt-[10vh]"
          />
        </>
      }
    >
      <div className="absolute left-0 right-0 top-0 h-screen">
          <ActiveSectionInfo />
      </div>
    </StickyContainer>
  </ScrollytellingProvider>
</div>


<div className="h-screen" />
